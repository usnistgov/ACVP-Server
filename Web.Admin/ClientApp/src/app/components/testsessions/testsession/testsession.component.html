<div class="col-lg-12">
  <div class="mt-3">
    <h2>Test Session #{{selectedSession?.testSessionId}}</h2>
  </div>
  <div class="card mt-3">
    <div class="card-header bold-heading">
      Details
    </div>
    <div class="card-body">
      <span class="bold-heading">Created On:</span> {{ selectedSession?.created | date:'yyyy-MM-dd HH:mm' }}<br />
      <span class="bold-heading">User:</span> {{ selectedSession?.userName }}<br />
      <span class="bold-heading">Status:</span> {{ selectedSession?.status }}<br />
      <span class="bold-heading">Sample:</span> {{ selectedSession?.isSample }}
    </div>
  </div>
</div>
<div class="col-lg-12 mt-3">
  <div class="card">
    <div class="card-header bold-heading">
      Vector Sets
    </div>
    <div class="card-body">
      <div style="min-height:250px;">
        <table class="table table-hover">
          <tr>
            <th>vsID</th>
            <th>Algorithm</th>
            <th>Generator</th>
            <th>Status</th>
          </tr>
          <ng-container *ngFor="let vectorSet of selectedSession?.vectorSets; let i = index">
            <tr data-toggle="collapse" [attr.data-target]="'#collapse' + vectorSet.id">
              <td>{{ vectorSet.id }}</td>
              <td>{{ vectorSet.algorithm }}</td>
              <td>{{ vectorSet.generatorVersion }}</td>
              <td>{{ vectorSet.status }}</td>
            </tr>
            <tr [attr.id]="'collapse' + vectorSet.id" class="collapse">
              <td colspan="5">
                <p *ngIf="vectorSet.jsonFilesAvailable.length == 0">No Files Available</p>
                <p *ngIf="vectorSet.jsonFilesAvailable.length > 0">Available Files:</p>
                <ul>
                  <li *ngFor="let file of vectorSet.jsonFilesAvailable"><a [attr.href]="'/api/testSessions/vectorSet/' + vectorSet.id + '/json/' + file.type" [attr.target]="'_blank'">{{file.type}}</a> - {{ file.createdOn | date:'yyyy-MM-dd HH:mm' }}</li>
                </ul>
                <div *ngIf="vectorSet.resetOption !== 'None'">
                  <button type="button" *ngIf="vectorSet.resetOption === 'ResetToGenerate'" class="btn btn-warning" (click)="queueGeneration(vectorSet.id, selectedSession?.testSessionId)">Queue Generation</button>
                  <button type="button" *ngIf="vectorSet.resetOption === 'ResetToValidate'" class="btn btn-warning" (click)="queueValidation(vectorSet.id, selectedSession?.testSessionId)">Queue Validation</button>
                </div>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
    </div>
  </div>
</div>
