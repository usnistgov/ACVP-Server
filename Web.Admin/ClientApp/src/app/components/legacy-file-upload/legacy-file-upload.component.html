<div class="container">

  <div class="row mt-3">
    <h2>Legacy File Upload</h2>
  </div>

  <div class="row mt-3">
    <div class="col-lg-12">
      <div class="center">
        <input type="file" #file placeholder="Choose file" (change)="uploadFile(file.files)" style="display:none;">
        <button type="button" class="btn btn-success" (click)="file.click()">Upload File</button><br /><br />
        <span class="upload" *ngIf="message">
          {{message}}
        </span>
        <span class="upload" *ngIf="progress > 0">
          {{progress}}% uploaded<br />
        </span>
        <span class="upload" *ngIf="progress === 100">
          Processing file...<br /><br />
        </span>
        <div *ngIf="result">
          <ng-template [ngIf]="result.success">
            <span>Submission has been processed successfully and the lab has been notified.</span><br />
            <span *ngIf="result.validationNumber">Validation number C{{result.validationNumber}} was issued.</span>
          </ng-template>
          <ng-template [ngIf]="!result.success">
            The following issues were found that prevent processing:
            <ul *ngFor="let error of result.errors">
              <li>{{error}}</li>
            </ul>
          </ng-template>
        </div>
      </div>
    </div>
  </div>

</div>
